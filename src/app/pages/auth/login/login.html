<!-- Page Content -->
<div class="content">
    <div class="container-fluid">

        <div class="row">
            <div class="col-md-8 offset-md-2">

                <!-- Login Tab Content -->
                <div class="account-content">
                    <div class="row align-items-center justify-content-center">
                        <div class="col-md-7 col-lg-6 login-left">
                            <img src="assets/img/login-banner.png" class="img-fluid" alt="Doccure Login">
                        </div>
                        <div class="col-md-12 col-lg-6 login-right">
                            <div class="login-header">
                                <h3>Đăng nhập <span>Doccure</span></h3>
                            </div>
                            <!-- Error/Success Messages -->
                            @if(successMessage) {
                                <div class="alert alert-success" role="alert">
                                    {{ successMessage }}
                                </div>
                            }
                            @if(errorMessage) {
                                <div class="alert alert-danger" role="alert">
                                    {{ errorMessage }}
                                </div>
                            }

                            <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
                                <div class="mb-3">
                                    <label class="form-label">Tên đăng nhập</label>
                                    <input 
                                        type="text" 
                                        class="form-control"
                                        formControlName="username"
                                        (input)="onInputChange()"
                                        [class.is-invalid]="f['username'].invalid && f['username'].touched"
                                        placeholder="Nhập tên đăng nhập">
                                   @if(f['username'].invalid && f['username'].touched) {
                                        <div class="invalid-feedback d-block">
                                            @if(f['username'].errors?.['required']) {
                                                Tên đăng nhập là bắt buộc
                                            }
                                        </div>
                                    }
                                </div>
                                <div class="mb-3">
                                    <div class="form-group-flex">
                                        <label class="form-label">Mật khẩu</label>
                                        <a href="forgot-password.html" class="forgot-link">Quên mật khẩu?</a>
                                    </div>
                                    <div class="pass-group">
                                        <input 
                                            type="password" 
                                            class="form-control pass-input"
                                            formControlName="password"
                                            (input)="onInputChange()"
                                            [class.is-invalid]="f['password'].invalid && f['password'].touched"
                                            placeholder="Nhập mật khẩu">
                                        <span class="feather-eye-off toggle-password" (click)="togglePasswordVisibility()"></span>
                                    </div>
                                     @if(f['password'].invalid && f['password'].touched) {
                                        <div class="invalid-feedback d-block">
                                            @if(f['password'].errors?.['required']) {
                                                Mật khẩu là bắt buộc
                                            }
                                        </div>
                                    }
                                </div>
                                <div class="mb-3 form-check-box">
                                    <div class="form-group-flex">
                                        <div class="form-check mb-0">
                                            <input 
                                                class="form-check-input" 
                                                type="checkbox" 
                                                id="remember" 
                                                formControlName="rememberMe">
                                            <label class="form-check-label" for="remember">
                                                Ghi nhớ đăng nhập
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <button 
                                        class="btn btn-primary-gradient w-100" 
                                        type="submit"
                                        [disabled]="isLoading || loginForm.invalid">
                                        @if(isLoading) {
                                            <span class="spinner-border spinner-border-sm me-2" role="status"></span>
                                        }
                                        @else {
                                            <span>Đăng nhập</span>
                                        }
                                    </button>
                                </div>
                                <div class="login-or">
                                    <span class="or-line"></span>
                                    <span class="span-or">hoặc</span>
                                </div>
                                <div class="social-login-btn">
                                    <button 
                                        type="button" 
                                        class="btn w-100" 
                                        [disabled]="isLoading">
                                        <img src="assets/img/icons/google-icon.svg" alt="google-icon">Đăng nhập bằng
                                        Google
                                    </button>
                                    <button 
                                        type="button" 
                                        class="btn w-100" 
                                        [disabled]="isLoading">
                                        <img src="assets/img/icons/facebook-icon.svg" alt="fb-icon">Đăng nhập bằng
                                        Facebook
                                    </button>
                                </div>
                                <div class="account-signup">
                                    <p>Chưa có tài khoản? <a (click)="goToRegister()" style="cursor: pointer;">Đăng ký ngay</a></p>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <!-- /Login Tab Content -->

            </div>
        </div>

    </div>

</div>
<!-- /Page Content -->