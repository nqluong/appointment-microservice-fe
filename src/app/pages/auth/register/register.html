<!-- Page Content -->
<div class="content">
    <div class="container-fluid">

        <div class="row">
            <div class="col-md-8 offset-md-2">

                <!-- Login Tab Content -->
                <div class="account-content">
                    <div class="row align-items-center justify-content-center">
                        <div class="col-md-7 col-lg-6 login-left">
                            <img src="assets/img/login-banner.png" class="img-fluid" alt="Doccure Login">
                        </div>
                        <div class="col-md-12 col-lg-6 login-right">
                            <div class="login-header">
                                <h3>Đăng ký tài khoản <a href="doctor-register.html">Bạn là bác sĩ?</a></h3>
                            </div>
                            
                            @if(successMessage) {
                                <div class="alert alert-success" role="alert">
                                    {{ successMessage }}
                                </div>
                            }
                            @if(errorMessage) {
                                <div class="alert alert-danger" role="alert">
                                    {{ errorMessage }}
                                </div>
                            }

                            <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
                                <div class="mb-3">
                                    <label class="form-label">Họ và tên</label>
                                    <input 
                                        type="text" 
                                        class="form-control"
                                        formControlName="fullName"
                                        (input)="onInputChange()"
                                        [class.is-invalid]="f['fullName'].invalid && f['fullName'].touched"
                                        placeholder="Nhập họ và tên">
                                    @if(f['fullName'].invalid && f['fullName'].touched) {
                                        <div class="invalid-feedback d-block">
                                            @if(f['fullName'].errors?.['required']) {
                                                Họ và tên là bắt buộc
                                            }
                                            @if(f['fullName'].errors?.['minlength']) {
                                                Họ và tên phải có ít nhất 2 ký tự
                                            }
                                        </div>
                                    }
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Tên đăng nhập</label>
                                    <input 
                                        type="text" 
                                        class="form-control"
                                        formControlName="username"
                                        (input)="onInputChange()"
                                        [class.is-invalid]="f['username'].invalid && f['username'].touched"
                                        placeholder="Nhập tên đăng nhập">
                                    @if(f['username'].invalid && f['username'].touched) {
                                        <div class="invalid-feedback d-block">
                                            @if(f['username'].errors?.['required']) {
                                                Tên đăng nhập là bắt buộc
                                            }
                                            @if(f['username'].errors?.['minlength']) {
                                                Tên đăng nhập phải có ít nhất 3 ký tự
                                            }
                                        </div>
                                    }
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Email</label>
                                    <input 
                                        type="email" 
                                        class="form-control"
                                        formControlName="email"
                                        (input)="onInputChange()"
                                        [class.is-invalid]="f['email'].invalid && f['email'].touched"
                                        placeholder="Nhập địa chỉ email">
                                    @if(f['email'].invalid && f['email'].touched) {
                                        <div class="invalid-feedback d-block">
                                            @if(f['email'].errors?.['required']) {
                                                Email là bắt buộc
                                            }
                                            @if(f['email'].errors?.['email']) {
                                                Email không hợp lệ
                                            }
                                        </div>
                                    }
                                </div>
                                <div class="mb-3">
                                    <div class="form-group-flex">
                                        <label class="form-label">Mật khẩu</label>
                                    </div>
                                    <div class="pass-group">
                                        <input 
                                            type="password" 
                                            class="form-control pass-input"
                                            formControlName="password"
                                            (input)="onInputChange()"
                                            [class.is-invalid]="f['password'].invalid && f['password'].touched"
                                            placeholder="Nhập mật khẩu">
                                        <span class="feather-eye-off toggle-password" (click)="togglePasswordVisibility()"></span>
                                    </div>
                                    @if(f['password'].invalid && f['password'].touched) {
                                        <div class="invalid-feedback d-block">
                                            @if(f['password'].errors?.['required']) {
                                                Mật khẩu là bắt buộc
                                            }
                                            @if(f['password'].errors?.['minlength']) {
                                                Mật khẩu phải có ít nhất 6 ký tự
                                            }
                                        </div>
                                    }
                                </div>
                                <div class="mb-3">
                                    <button 
                                        class="btn btn-primary-gradient w-100" 
                                        type="submit"
                                        [disabled]="isLoading || registerForm.invalid">
                                        @if(isLoading) {
                                            <span class="spinner-border spinner-border-sm me-2" role="status"></span>
                                        }
                                        @else {
                                            <span>Đăng ký</span>
                                        }
                                    </button>
                                </div>
                                <div class="login-or">
                                    <span class="or-line"></span>
                                    <span class="span-or">hoặc</span>
                                </div>
                                <div class="social-login-btn">
                                    <button 
                                        type="button" 
                                        class="btn w-100" 
                                        [disabled]="isLoading">
                                        <img src="assets/img/icons/google-icon.svg" alt="google-icon">Đăng ký với
                                        Google
                                    </button>
                                    <button 
                                        type="button" 
                                        class="btn w-100" 
                                        [disabled]="isLoading">
                                        <img src="assets/img/icons/facebook-icon.svg" alt="fb-icon">Đăng ký với
                                        Facebook
                                    </button>
                                </div>
                                <div class="account-signup">
                                    <p>Đã có tài khoản? <a (click)="goToLogin()" style="cursor: pointer;">Đăng nhập</a></p>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <!-- /Login Tab Content -->

            </div>
        </div>

    </div>

</div>
<!-- /Page Content -->